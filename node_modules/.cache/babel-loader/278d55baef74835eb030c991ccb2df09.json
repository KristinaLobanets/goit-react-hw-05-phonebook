{"ast":null,"code":"var _jsxFileName = \"/Users/kristinalobanets/Documents/GitHub/goit-react-hw-05-phonebook/src/components/phonebook/Phonebook.js\";\nimport React, { Component } from \"react\";\nimport ContactForm from \"../ContactForm/ContactForm\";\nimport ContactList from \"../ContactList/ContactList\";\nimport Filter from \"../filter/filter\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport styles from \"./phonebook.module.css\";\nimport PropTypes from \"prop-types\";\nimport { CSSTransition } from \"react-transition-group\";\nimport appear from \"./appear.module.css\";\nimport errorFade from \"./errorFade.module.css\";\n\nclass Phonebook extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      contacts: [],\n      filter: \"\",\n      error: false\n    };\n\n    this.addContact = contact => {\n      if (this.state.contacts.find(item => item.name === contact.name)) {\n        this.setState({\n          error: true\n        });\n        setTimeout(() => this.setState({\n          error: false\n        }), 5000);\n        return;\n      } else {\n        this.setState(prevState => {\n          return {\n            contacts: [...prevState.contacts, contact]\n          };\n        });\n      }\n    };\n\n    this.handleFilter = e => {\n      this.setState({\n        filter: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const {\n        name,\n        number\n      } = this.state;\n      this.addContact({\n        id: uuidv4(),\n        name: name,\n        number: number\n      });\n      this.setState({\n        name: \"\",\n        number: \"\"\n      });\n    };\n\n    this.getFilteredData = () => {\n      return this.state.filter ? this.state.contacts.filter(item => item.name.toLowerCase().includes(this.state.filter.toLowerCase())) : this.state.contacts;\n    };\n\n    this.onDelete = id => {\n      this.setState(prevState => {\n        return {\n          contacts: prevState.contacts.filter(item => item.id !== id)\n        };\n      });\n    };\n  }\n\n  componentDidMount() {\n    const savedContacts = localStorage.getItem(\"contacts\");\n\n    if (savedContacts) {\n      this.setState({\n        contacts: JSON.parse(savedContacts)\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      contacts\n    } = this.state;\n\n    if (prevState.contacts !== contacts) {\n      localStorage.setItem(\"contacts\", JSON.stringify(contacts));\n    }\n  }\n\n  render() {\n    const {\n      filter,\n      error\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CSSTransition, {\n      in: error,\n      timeout: 250,\n      classNames: errorFade,\n      unmountOnExit: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.blockerror,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }, \"Error!!! Contact is already exist!\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.form,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CSSTransition, {\n      in: true,\n      appear: true,\n      timeout: 500,\n      classNames: appear,\n      unmountOnExit: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, \"Phonebook\")), /*#__PURE__*/React.createElement(ContactForm, {\n      addContact: this.addContact,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.contacts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Filter, {\n      searchContact: this.getFilteredData,\n      value: filter,\n      onFilter: this.handleFilter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ContactList, {\n      contacts: this.getFilteredData(),\n      onDelete: this.onDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default Phonebook;\nPhonebook.propTypes = {\n  contacts: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string,\n    name: PropTypes.string,\n    number: PropTypes.string\n  })),\n  filter: PropTypes.string\n};","map":{"version":3,"sources":["/Users/kristinalobanets/Documents/GitHub/goit-react-hw-05-phonebook/src/components/phonebook/Phonebook.js"],"names":["React","Component","ContactForm","ContactList","Filter","v4","uuidv4","styles","PropTypes","CSSTransition","appear","errorFade","Phonebook","state","contacts","filter","error","addContact","contact","find","item","name","setState","setTimeout","prevState","handleFilter","e","target","value","handleSubmit","preventDefault","number","id","getFilteredData","toLowerCase","includes","onDelete","componentDidMount","savedContacts","localStorage","getItem","JSON","parse","componentDidUpdate","prevProps","setItem","stringify","render","blockerror","form","propTypes","arrayOf","shape","string"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ContactForm from \"../ContactForm/ContactForm\";\nimport ContactList from \"../ContactList/ContactList\";\nimport Filter from \"../filter/filter\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport styles from \"./phonebook.module.css\";\nimport PropTypes from \"prop-types\";\nimport { CSSTransition } from \"react-transition-group\";\nimport appear from \"./appear.module.css\";\nimport errorFade from \"./errorFade.module.css\";\n\nclass Phonebook extends Component {\n  state = {\n    contacts: [],\n    filter: \"\",\n    error: false,\n  };\n\n  componentDidMount() {\n    const savedContacts = localStorage.getItem(\"contacts\");\n    if (savedContacts) {\n      this.setState({\n        contacts: JSON.parse(savedContacts),\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { contacts } = this.state;\n    if (prevState.contacts !== contacts) {\n      localStorage.setItem(\"contacts\", JSON.stringify(contacts));\n    }\n  }\n\n  addContact = (contact) => {\n    if (this.state.contacts.find((item) => item.name === contact.name)) {\n      this.setState({ error: true });\n      setTimeout(() => this.setState({ error: false }), 5000);\n      return;\n    } else {\n      this.setState((prevState) => {\n        return {\n          contacts: [...prevState.contacts, contact],\n        };\n      });\n    }\n  };\n\n  handleFilter = (e) => {\n    this.setState({ filter: e.target.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { name, number } = this.state;\n    this.addContact({ id: uuidv4(), name: name, number: number });\n    this.setState({ name: \"\", number: \"\" });\n  };\n\n  getFilteredData = () => {\n    return this.state.filter\n      ? this.state.contacts.filter((item) =>\n          item.name.toLowerCase().includes(this.state.filter.toLowerCase())\n        )\n      : this.state.contacts;\n  };\n\n  onDelete = (id) => {\n    this.setState((prevState) => {\n      return {\n        contacts: prevState.contacts.filter((item) => item.id !== id),\n      };\n    });\n  };\n\n  render() {\n    const { filter, error } = this.state;\n    return (\n      <>\n        <CSSTransition\n          in={error}\n          timeout={250}\n          classNames={errorFade}\n          unmountOnExit\n        >\n          <div className={styles.blockerror}>\n            Error!!! Contact is already exist!\n          </div>\n        </CSSTransition>\n\n        <div className={styles.form}>\n          <CSSTransition\n            in={true}\n            appear={true}\n            timeout={500}\n            classNames={appear}\n            unmountOnExit\n          >\n            <h1>Phonebook</h1>\n          </CSSTransition>\n          <ContactForm addContact={this.addContact} />\n        </div>\n        <div className={styles.contacts}>\n          <Filter\n            searchContact={this.getFilteredData}\n            value={filter}\n            onFilter={this.handleFilter}\n          />\n\n          <ContactList\n            contacts={this.getFilteredData()}\n            onDelete={this.onDelete}\n          />\n        </div>\n      </>\n    );\n  }\n}\nexport default Phonebook;\n\nPhonebook.propTypes = {\n  contacts: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      name: PropTypes.string,\n      number: PropTypes.string,\n    })\n  ),\n  filter: PropTypes.string,\n};\n"]},"metadata":{},"sourceType":"module"}