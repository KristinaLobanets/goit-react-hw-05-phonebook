{"ast":null,"code":"import _toConsumableArray from\"/Users/kristinalobanets/Documents/GitHub/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/kristinalobanets/Documents/GitHub/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kristinalobanets/Documents/GitHub/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kristinalobanets/Documents/GitHub/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kristinalobanets/Documents/GitHub/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import ContactForm from\"../ContactForm/ContactForm\";import ContactList from\"../ContactList/ContactList\";import Filter from\"../filter/filter\";import{v4 as uuidv4}from\"uuid\";import styles from\"./phonebook.module.css\";import{CSSTransition}from\"react-transition-group\";import appear from\"./appear.module.css\";import errorFade from\"./errorFade.module.css\";var Phonebook=/*#__PURE__*/function(_Component){_inherits(Phonebook,_Component);var _super=_createSuper(Phonebook);function Phonebook(){var _this;_classCallCheck(this,Phonebook);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contacts:[],filter:\"\",error:false};_this.addContact=function(contact){if(_this.state.contacts.find(function(item){return item.name===contact.name;})){_this.setState({error:true});setTimeout(function(){return _this.setState({error:false});},5000);return;}else{_this.setState(function(prevState){return{contacts:[].concat(_toConsumableArray(prevState.contacts),[contact])};});}};_this.handleFilter=function(e){_this.setState({filter:e.target.value});};_this.handleSubmit=function(e){e.preventDefault();var _this$state=_this.state,name=_this$state.name,number=_this$state.number;_this.addContact({id:uuidv4(),name:name,number:number});_this.setState({name:\"\",number:\"\"});};_this.getFilteredData=function(){return _this.state.filter?_this.state.contacts.filter(function(item){return item.name.toLowerCase().includes(_this.state.filter.toLowerCase());}):_this.state.contacts;};_this.onDelete=function(id){_this.setState(function(prevState){return{contacts:prevState.contacts.filter(function(item){return item.id!==id;})};});};return _this;}_createClass(Phonebook,[{key:\"componentDidMount\",value:function componentDidMount(){var savedContacts=localStorage.getItem(\"contacts\");if(savedContacts){this.setState({contacts:JSON.parse(savedContacts)});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var contacts=this.state.contacts;if(prevState.contacts!==contacts){localStorage.setItem(\"contacts\",JSON.stringify(contacts));}}},{key:\"render\",value:function render(){var _this$state2=this.state,filter=_this$state2.filter,error=_this$state2.error;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CSSTransition,{in:error,timeout:250,classNames:errorFade,unmountOnExit:true},/*#__PURE__*/React.createElement(\"div\",{className:styles.blockerror},\"Error!!! Contact is already exist!\")),/*#__PURE__*/React.createElement(\"div\",{className:styles.block},/*#__PURE__*/React.createElement(\"div\",{className:styles.form},/*#__PURE__*/React.createElement(CSSTransition,{in:true,appear:true,timeout:500,classNames:appear,unmountOnExit:true},/*#__PURE__*/React.createElement(\"h1\",null,\"Phonebook\")),/*#__PURE__*/React.createElement(ContactForm,{addContact:this.addContact})),/*#__PURE__*/React.createElement(\"div\",{className:styles.contacts},/*#__PURE__*/React.createElement(Filter,{searchContact:this.getFilteredData,value:filter,onFilter:this.handleFilter}),/*#__PURE__*/React.createElement(ContactList,{contacts:this.getFilteredData(),onDelete:this.onDelete}))));}}]);return Phonebook;}(Component);export default Phonebook;","map":{"version":3,"sources":["/Users/kristinalobanets/Documents/GitHub/goit-react-hw-05-phonebook/src/components/phonebook/Phonebook.js"],"names":["React","Component","ContactForm","ContactList","Filter","v4","uuidv4","styles","CSSTransition","appear","errorFade","Phonebook","state","contacts","filter","error","addContact","contact","find","item","name","setState","setTimeout","prevState","handleFilter","e","target","value","handleSubmit","preventDefault","number","id","getFilteredData","toLowerCase","includes","onDelete","savedContacts","localStorage","getItem","JSON","parse","prevProps","setItem","stringify","blockerror","block","form"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ContactForm from \"../ContactForm/ContactForm\";\nimport ContactList from \"../ContactList/ContactList\";\nimport Filter from \"../filter/filter\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport styles from \"./phonebook.module.css\";\nimport PropTypes from \"prop-types\";\nimport { CSSTransition } from \"react-transition-group\";\nimport appear from \"./appear.module.css\";\nimport errorFade from \"./errorFade.module.css\";\n\nclass Phonebook extends Component {\n  state = {\n    contacts: [],\n    filter: \"\",\n    error: false,\n  };\n\n  componentDidMount() {\n    const savedContacts = localStorage.getItem(\"contacts\");\n    if (savedContacts) {\n      this.setState({\n        contacts: JSON.parse(savedContacts),\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { contacts } = this.state;\n    if (prevState.contacts !== contacts) {\n      localStorage.setItem(\"contacts\", JSON.stringify(contacts));\n    }\n  }\n\n  addContact = (contact) => {\n    if (this.state.contacts.find((item) => item.name === contact.name)) {\n      this.setState({ error: true });\n      setTimeout(() => this.setState({ error: false }), 5000);\n      return;\n    } else {\n      this.setState((prevState) => {\n        return {\n          contacts: [...prevState.contacts, contact],\n        };\n      });\n    }\n  };\n\n  handleFilter = (e) => {\n    this.setState({ filter: e.target.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { name, number } = this.state;\n    this.addContact({ id: uuidv4(), name: name, number: number });\n    this.setState({ name: \"\", number: \"\" });\n  };\n\n  getFilteredData = () => {\n    return this.state.filter\n      ? this.state.contacts.filter((item) =>\n          item.name.toLowerCase().includes(this.state.filter.toLowerCase())\n        )\n      : this.state.contacts;\n  };\n\n  onDelete = (id) => {\n    this.setState((prevState) => {\n      return {\n        contacts: prevState.contacts.filter((item) => item.id !== id),\n      };\n    });\n  };\n\n  render() {\n    const { filter, error } = this.state;\n    return (\n      <>\n        <CSSTransition\n          in={error}\n          timeout={250}\n          classNames={errorFade}\n          unmountOnExit\n        >\n          <div className={styles.blockerror}>\n            Error!!! Contact is already exist!\n          </div>\n        </CSSTransition>\n        <div className={styles.block}>\n          <div className={styles.form}>\n            <CSSTransition\n              in={true}\n              appear={true}\n              timeout={500}\n              classNames={appear}\n              unmountOnExit\n            >\n              <h1>Phonebook</h1>\n            </CSSTransition>\n            <ContactForm addContact={this.addContact} />\n          </div>\n          <div className={styles.contacts}>\n            <Filter\n              searchContact={this.getFilteredData}\n              value={filter}\n              onFilter={this.handleFilter}\n            />\n\n            <ContactList\n              contacts={this.getFilteredData()}\n              onDelete={this.onDelete}\n            />\n          </div>\n        </div>\n      </>\n    );\n  }\n}\nexport default Phonebook;\n\nPhonebook.propTypes = {\n  contacts: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      name: PropTypes.string,\n      number: PropTypes.string,\n    })\n  ),\n  filter: PropTypes.string,\n};\n"]},"metadata":{},"sourceType":"module"}